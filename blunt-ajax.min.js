function bluntAjax(e){function E(e,t){var n="";if(!t){t=""}for(i in e){var r=i;if(t!=""){r=t+"["+r+"]"}if(typeof e[i]=="object"){var s=E(e[i],r);if(s!=""){n+="&"+s}}else{if(n!=""){n+="&"}var o=e[i];switch(f){case"escape":o=escape(o);break;case"uri":o=encodeURIComponent(o);break;case"none":default:break}n+=r+"="+o}}return n}function S(){var e=false;try{e=new XMLHttpRequest}catch(t){var n=new Array("MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP");for(var r=0;r<n.length&&!e;r++){try{e=new ActiveXObject(n[r])}catch(t){}}}return e}function x(){if(typeof o=="object"){o=E(o)}var e=false;var r;if(w){v=true;if(u=="GET"){if(o!=""){n=n+"?"+o}r=null}else{r=o}try{w.open(u,n,true);w.onreadystatechange=T;if(u=="POST"){w.setRequestHeader("Content-type","application/x-www-form-urlencoded");w.setRequestHeader("Content-length",r.length);w.setRequestHeader("Connection","close")}w.send(r)}catch(i){y="Error sending request";e=true}}if(e){bluntAjaxReturn(s,b,a,l,v,g,y,m,t)}}function T(){var e=false;m="";if(w.readyState==4){if(w.status==200){g=200;y=w.statusText;try{b=w.responseText}catch(n){m=n.toString()}}else{g=w.status;y=w.statusText}bluntAjaxReturn(s,b,a,l,v,g,y,m,t)}}if(!bluntAjaxOptions){return}var t=bluntAjaxOptions.debug;var n=bluntAjaxOptions.url;var r=false;var s=bluntAjaxDefaultCallback;var o="";var u="GET";var a=false;var f="none";var l=false;if(typeof e["debug"]!="undefined"){if(typeof e["debug"]=="boolean"){t=e["debug"]}else{r=true;if(t){alert("Blunt Ajax: "+e[i]+" is not a valid value for debug")}}}for(i in e){switch(i){case"debug":break;case"encoding":var c=true;if(e[i]&&typeof e[i]=="string"){var h=e[i];if(h=="none"||h=="escape"||h=="uri"){incoding_error=false;f=h}}if(incoding_error){r=true;if(t){alert("Blunt Ajax: "+e[i]+" is not a valid encoding")}}break;case"url":if(e[i]&&typeof e[i]=="string"){n=e[i]}else{r=true;if(t){alert("Blunt Ajax: "+e[i]+" is not a valid URL")}}break;case"callback":if(e[i]&&typeof e[i]=="function"){s=e[i]}else{r=true;if(t){alert("Blunt Ajax: "+e[i]+" is not a valid callback function")}}break;case"method":var p=true;if(e[i]&&typeof e[i]=="string"){var d=e[i];d=d.toUpperCase();if(d=="POST"||d=="GET"){p=false;u=d}}if(p){r=true;if(t){alert("Blunt Ajax: "+e[i]+" is not a valid method")}}break;case"element_id":if(e[i]&&typeof document.getElementById(e[i])!="undefined"){a=e[i]}else{r=true;if(t){alert("Blunt Ajax: "+e[i]+" is not a valid element id in this document")}}break;case"parameters":if(e[i]&&typeof e[i]=="object"){o=e[i]}else{r=true;if(t){alert("Blunt Ajax: the value supplied for parameters is not a valid Object")}}break;case"pass":l=e[i];break;default:break}}if(r){return}var v=false;var m=false;var g=false;var y=false;var b=false;var w=S();x()}function bluntAjaxReturn(e,t,n,r,i,s,o,u,a){if(i){if(s==200){if(u==""){e(t,n,r)}else if(a){alert("Blunt Ajax: "+u)}}else if(a){alert("Blunt Ajax: "+s+": "+o)}}else if(a){alert("Blunt Ajax: Failed to create an http connection!")}}function bluntAjaxDefaultCallback(e,t,n){if(t!==false){document.getElementById(t).innerHTML=e}else{alert(e)}}